
```{python}
#| label: Fig-1.9
#| echo: false
#| fig-cap: "Two-port amplifier models with input source and load: (a) voltage amplifier, (b) current amplifier, (c) transconductance amplifier, and (d) transresistance amplifier"
import schemdraw as sd
import schemdraw.elements as elm
#sd.svgconfig.svg2 = False
#with sd.Drawing(canvas='svg') as d:
with sd.Drawing() as d:
        d.config(unit=2)
        d.config(fontsize=14)

        # figure a
        d.push()
        start = d.here
        elm.SourceV().label(r'$v_{s}$')
        elm.Resistor().label(r'$R_{s}$',loc='bottom').right().dot(open='True')
        d.pop()
        elm.Line().right().dot(open='True')
        elm.Gap().right(1)
        elm.Dot(open='True')
        elm.Line().right().dot()
        d.push()
        elm.Resistor().up().label(r'$R_{in}$','bottom').label(['$-$','$v_{in}$','+'],'top')
        elm.Line().left().dot(open='True')
        d.pop()
        elm.Line().right().dot()
        inline = elm.Line().left().dot()
        elm.Line().right().dot()
        d.push()
        elm.SourceControlledV().up().label(r'$A_{v}v_{in}$','bottom')
        elm.Line().right(1)
        elm.Resistor().right().label(r'$R_{out}$','top')
        d.pop()
        elm.Line().right(5).dot(open='True')
        elm.Gap().up().dot(open='True')
        d.push()
        elm.Line().left()
        d.pop()
        elm.Gap().right(1).dot(open='True')
        inline = elm.Line().right()
        elm.Resistor().down().label(r'$R_{L}$','top').label(['+','$v_{out}$','$-$'],'bottom')
        elm.Line().left().dot(open='True')

        # go back to left bottom corner of Figure a
        elm.Gap().left().tox(start)
        elm.Gap().down().tox(1)
        elm.Gap().right(7)
        elm.Label().label('(a)')
        elm.Gap().down()
        elm.Gap().left().tox(start)

        # figure b
        d.push()
        start = d.here
        elm.SourceI().label(r'$i_{s}$').down().reverse()
        d.push()
        elm.Line().right(1).dot()
        elm.Resistor().label(r'$R_{s}$',loc='bottom').up().dot()
        elm.Line().left(1)
        elm.Line().right(2).dot(open='True')
        d.pop()
        elm.Line().right(2).dot(open='True')
        elm.Gap().right(1)
        b = elm.Dot(open='True')
        elm.Line().right().dot()
        d.push()
        elm.Resistor().up().label(r'$R_{in}$','bottom')
        inline = elm.Line().left().dot(open='True')
        elm.CurrentLabel(length=1.25, top=True, ofst=0.15).at(inline).label('$i_{in}$','bottom').reverse()
        d.pop()
        elm.Line().right().dot()
        d.push()
        elm.SourceControlledI().up().reverse().label(r'$A_{i}i_{in}$','bottom')
        elm.Line().right(3).dot()
        elm.Resistor().down().label(r'$R_{out}$','bottom').dot()
        elm.Line().left(3)
        d.pop()
        elm.Line().right(5).dot(open='True')
        elm.Gap().up().dot(open='True')
        d.push()
        elm.Line().left()
        d.pop()
        elm.Gap().right(1).dot(open='True')
        inline = elm.Line().right()
        elm.Resistor().down().label(r'$R_{L}$','bottom')
        elm.CurrentLabel(length=1.25, top=True, ofst=-0.2).at(inline).label('$i_{out}$','bottom').reverse()
        elm.Line().left().dot(open='True')

        # go back to left bottom corner of Figure b
        elm.Gap().left().tox(start)
        elm.Gap().down().tox(1)
        elm.Gap().right(7)
        elm.Label().label('(b)')
        elm.Gap().down()
        elm.Gap().left().tox(start)

        # figure c
        elm.Gap().down() # separate the figures
        d.push()
        start = d.here
        elm.SourceV().label(r'$v_{s}$')
        elm.Resistor().label(r'$R_{s}$',loc='bottom').right().dot(open='True')
        d.pop()
        elm.Line().right().dot(open='True')
        elm.Gap().right(1)
        elm.Dot(open='True')
        elm.Line().right().dot()
        d.push()
        elm.Resistor().up().label(r'$R_{in}$','bottom').label(['$-$','$v_{in}$','$+$'],'top')
        elm.Line().left().dot(open='True')
        d.pop()
        elm.Line().right().dot()
        d.push()
        elm.SourceControlledI().up().reverse().label(r'$G_{m}v_{in}$','bottom')
        elm.Line().right(3).dot()
        elm.Resistor().down().label(r'$R_{out}$','bottom').dot()
        elm.Line().left(3)
        d.pop()
        elm.Line().right(5).dot(open='True')
        elm.Gap().up().dot(open='True')
        d.push()
        elm.Line().left()
        d.pop()
        elm.Gap().right(1).dot(open='True')
        inline = elm.Line().right()
        elm.Resistor().down().label(r'$R_{L}$','bottom')
        end = d.here
        elm.CurrentLabel(length=1.25, top=True, ofst=-0.2).at(inline).label('$i_{out}$','bottom').reverse()
        elm.Line().left().dot(open='True')
       
        # go back to left bottom corner of Figure c
        elm.Gap().left().tox(start)
        elm.Gap().down().tox(1)
        elm.Gap().right(7)
        elm.Label().label('(c)')
        elm.Gap().down()
        elm.Gap().left().tox(start)

        # Figure d
        start = d.here
        elm.SourceI().label(r'$i_{s}$').down().reverse()
        d.push()
        elm.Line().right(1).dot()
        elm.Resistor().label(r'$R_{s}$',loc='bottom').up().dot()
        elm.Line().left(1)
        elm.Line().right(2).dot(open='True')
        d.pop()
        elm.Line().right(2).dot(open='True')
        elm.Gap().right(1)
        b = elm.Dot(open='True')
        elm.Line().right().dot()
        d.push()
        elm.Resistor().up().label(r'$R_{in}$','bottom')
        inline = elm.Line().left().dot(open='True')
        elm.CurrentLabel(length=1.25, top=True, ofst=0.15).at(inline).label('$i_{in}$','bottom').reverse()
        d.pop()
        elm.Line().right().dot()
        d.push()
        elm.SourceControlledV().up().label(r'$R_{m}i_{in}$','bottom')
        elm.Line().right(1)
        elm.Resistor().right().label(r'$R_{out}$','top')
        elm.Line().right(2).dot(open='True')
        d.pop()
        elm.Line().right(5).dot(open='True')
        elm.Gap().up().dot(open='True')
        d.push()
        elm.Line().left()
        d.pop()
        elm.Gap().right(1).dot(open='True')
        inline = elm.Line().right()
        elm.Resistor().down().label(r'$R_{L}$','top').label(['+','$v_{out}$','$-$'],'bottom')
        elm.Line().left().dot(open='True')

        # go back to left bottom corner of Figure d
        elm.Gap().left().tox(start)
        elm.Gap().down().tox(1)
        elm.Gap().right(7)
        elm.Label().label('(d)')
        # elm.Gap().down() # last figure no need to separate
```
