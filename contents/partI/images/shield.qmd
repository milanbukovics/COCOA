
```{python}
#| label: a
#| echo: false
#| fig-cap: "(a) cascode with voltage perturbation applied at its output (b) & (c) equivalent small signal model"
import schemdraw as sd
import schemdraw.elements as elm
with sd.Drawing() as d:
	d.config(unit=2)
	d.config(fontsize=14)

	d.push()
	# figure (a)
	R1 = elm.Resistor().down().length(d.unit/1.15).label(r'$r_{o1}$',loc='bottom').linestyle('--').color('gray')
	L1_bottom = elm.Line().left().length(1).linestyle('--').color('gray')
	Q1 = elm.transistors.AnalogNFet(offset_gate=False).anchor('source').theta(0).reverse().label(r'$M_1$',loc='rgt')
	L1_top = elm.Line().left().length(1).linestyle('--').color('gray').at(R1.start)
	elm.Dot().at(L1_top.end)
	elm.Dot().at(L1_bottom.end)
	elm.Line().down().length(0.75).at(Q1.source)
	elm.Ground().right()
	d.move(dy=-1)
	elm.Label(r'$(a)$')
	elm.Line().left().length(0.5).at(Q1.gate)
	elm.Ground().down()
	d.push()
	elm.Line().up().length(0.75).at(Q1.drain)
	elm.Dot(open='True').label(r'$\Delta V_{d1}$',loc='rgt')
	elm.Line().up().length(0.5)
	Q2 = elm.transistors.AnalogNFet(offset_gate=False).anchor('source').theta(0).reverse().label(r'$M_2$',loc='rgt')
	elm.Dot()
	L2_bottom = elm.Line().right().length(1).linestyle('--').color('gray').at(Q2.source)
	R2 = elm.Resistor().up().length(d.unit/1.15).label(r'$r_{o2}$',loc='bottom').linestyle('--').color('gray')
	L2_top = elm.Line().left().length(1).linestyle('--').color('gray').at(R2.end)
	elm.Dot()
	elm.Line().up().length(0.5)
	elm.Dot(open='True').label(r'$\Delta V_{out}$',loc='rgt')
	elm.Line().left().length(0.5).at(Q2.gate)
	elm.Ground().down()
        
	d.pop()
	# figure (b)
	d.move(dx=8, dy=0.35)
	elm.Dot()
	d.push()
	Ro1 = elm.Resistor().down().label(r'$r_\mathrm{o1}$')
	G = elm.Ground()
	d.move(dy=-1)
	elm.Label(r'$(b)$')
	d.pop()
	elm.Dot()
	d.move(dy=2)
	d.push()
	Id2 = elm.SourceControlledI().down().label(r'$g ^\prime _\mathrm{m2} \Delta V_\mathrm{d1}$').reverse()
	elm.Line().right().length(2).label(r'$\Delta V_\mathrm{d1}$',loc='lft')
	Ro2 = elm.Resistor().up().label(r'$r_\mathrm{o2}$')
	elm.Line().left().length(2).dot()
	elm.Line().up().length(0.5).at(Id2.start)
	elm.Dot(open='True').label(r'$\Delta V_\mathrm{out}$')

	d.move_from(G.start,dx=0) # back to position of G.start
	# figure (c)
	d.push()
	d.move(dx=8)
	Ro1_c = elm.Resistor().up().label(r'$r_\mathrm{o1}$')
	elm.Dot().label(r'$\Delta V_\mathrm{d1}$',loc='lft')
	L_up = elm.Line().up().length(1)
	Id2_c = elm.SourceControlledI().up().reverse().label(r'$g ^\prime _\mathrm{m2} \Delta V_\mathrm{d1}$').reverse()
	elm.Dot(open='True').label(r'$\Delta V_\mathrm{out}$')
	elm.Line().right().at(L_up.start).length(2)
	elm.Line().up().length(1)
	Ro2_c = elm.Resistor().up().label(r'$r_\mathrm{o2}$')
	d.move_from(Ro1_c.end, dy=d.unit/1.5)
	elm.ZLabel().up().label(r'$1/g ^\prime _\mathrm{m2}$',loc='bottom',ofst=(0.2,-0.2))
	elm.Dot(open='True').label(r'$\Delta V_\mathrm{out}$').at(Ro2_c.end)
	elm.Ground().at(Ro1_c.start)
	d.move(dy=-1.2)
	d.move(dx=0.1)
	elm.Label(r'$(c)$')

```
